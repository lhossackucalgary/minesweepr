(function(t){function e(e){for(var s,r,a=e[0],l=e[1],c=e[2],h=0,f=[];h<a.length;h++)r=a[h],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&f.push(n[r][0]),n[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],s=!0,a=1;a<i.length;a++){var l=i[a];0!==n[l]&&(s=!1)}s&&(o.splice(e--,1),t=r(r.s=i[0]))}return t}var s={},n={app:0},o=[];function r(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=s,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var u=l;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"124c":function(t,e,i){"use strict";var s=i("3248"),n=i.n(s);n.a},2686:function(t,e,i){t.exports=i.p+"img/flag-opt.339595c5.svg"},3248:function(t,e,i){},"452c":function(t,e,i){},4602:function(t,e,i){"use strict";var s=i("64df"),n=i.n(s);n.a},4615:function(t,e,i){"use strict";var s=i("f03e"),n=i.n(s);n.a},5011:function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Header"),i("Gameboard"),i("LeaderBoard")],1)},o=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"board",staticClass:"game-grid",class:{easy:"Easy"===this.difficulty,medium:"Medium"===this.difficulty},style:{height:this.boardHeight,gridTemplateColumns:this.colTemplate}},t._l(t.tiles,(function(e,s){return i("Tile",{key:s,attrs:{x:t.getX(s),y:t.getY(s),isBomb:t.tiles[s].isBomb,isCleared:t.tiles[s].isCleared,numAdjacentBombs:t.tiles[s].numAdjacentBombs}})})),1)},a=[],l=(i("caad"),i("a434"),i("2532"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"tile",staticClass:"tile",style:{backgroundColor:this.bgcolor},on:{mouseover:t.mousemove,mouseleave:t.setColor,contextmenu:function(e){return e.preventDefault(),t.flagSwap(e)},click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.preventDefault(),t.clicked(e))}}},[s("p",{class:{visible:this.isCleared},style:{fontSize:this.height}},[t._v(t._s(this.numAdjacentBombs))]),s("img",{class:{visible:this.isFlagged},attrs:{src:i("2686"),alt:"flag"}})])}),c=[],u=(i("a9e3"),new s["a"]),h=u,f={name:"Tile",data:function(){return{isFlagged:!1,isOdd:!1,isGameWon:!1,isGameLost:!1,bgcolor:"rgb(170,215,81)",color:"black",height:"1em"}},props:{x:Number,y:Number,isBomb:Boolean,isCleared:Boolean,numAdjacentBombs:Number},watch:{x:function(){this.moved()},y:function(){this.moved()},isBomb:function(){this.moved()},isCleared:function(){this.setColor(),this.isCleared&&this.isFlagged&&(this.isFlagged=!1,h.$emit("rm-flag"))},numAdjacentBombs:function(){}},created:function(){this.reset(),h.$on("setDifficulty",this.reset),this.setOdd()},methods:{clicked:function(){this.isGameWon||this.isGameLost||this.isFlagged||h.$emit("tileclick",{x:this.x,y:this.y})},resize:function(){this.height=String(.8*this.$refs.tile.clientHeight)+"px"},moved:function(){this.setOdd(),this.setColor(),this.resize()},mousemove:function(){this.isCleared||this.isGameWon||this.isGameLost||(this.bgcolor="rgb(185, 221, 119)")},flagSwap:function(){this.isGameWon||this.isGameLost||this.isCleared||(!0===this.isFlagged?(this.isFlagged=!1,h.$emit("rm-flag")):!1===this.isFlagged&&(this.isFlagged=!0,h.$emit("add-flag")))},setOdd:function(){(this.x+this.y)%2<=.5?this.isOdd=!0:this.isOdd=!1},reset:function(){this.isFlagged=!1,this.isGameWon=!1,this.isGameLost=!1},setColor:function(){this.resize(),this.isGameWon&&this.isCleared?this.bgcolor="rgb(143,201,249)":this.isGameLost&&this.isBomb?this.bgcolor="rgb(219,63,55)":this.isOdd?this.isCleared?this.bgcolor="rgb(215,184,153)":this.bgcolor="rgb(162,209,73)":this.isCleared?this.bgcolor="rgb(229,194,159)":this.bgcolor="rgb(170,215,81)"},showBombs:function(){this.isGameLost=!0,this.isBomb&&!this.isFlagged&&this.setColor(),this.isFlagged&&!this.isBomb&&(this.bgcolor="black")},gameWin:function(){this.isGameWon=!0,this.setColor()}},mounted:function(){this.setOdd(),this.setColor(),h.$on("lose-game",this.showBombs),h.$on("win-game",this.gameWin),h.$on("setDifficulty",this.setColor),window.addEventListener("resize",this.resize)},updated:function(){this.resize()},beforeDestroy:function(){h.$off("lose-game",this.showBombs),h.$off("win-game",this.gameWin),h.$off("setDifficulty",this.setColor),window.removeEventListener("resize",this.resize)}},d=f,m=(i("4602"),i("2877")),b=Object(m["a"])(d,l,c,!1,null,"1f2eda0e",null),g=b.exports,p={name:"Gameboard",components:{Tile:g},data:function(){return{tiles:[],difficulty:"",boardHeight:null,colTemplate:null,bombCount:0,xLen:0,yLen:0,started:!1}},watch:{bombCount:function(){h.$emit("setBombCount",this.bombCount)}},methods:{resetBoard:function(t){h.$emit("setBombCount",this.bombCount);var e=this.$refs["board"].clientWidth,i=this.$parent.$children[0].$refs["header"].clientHeight,s=window.innerHeight-i,n=e/s;this.difficulty=t;var o=180;"Easy"===this.difficulty?(this.bombCount=10,o=80):"Medium"===this.difficulty&&(e<600||s<600?(o=200,this.bombCount=35):(o=252,this.bombCount=40));var r=1,a=1;while(r*a<o)(r-1)/a>n?a+=1:r+=1;e/(r-1)*a>=s&&(a-=1),this.xLen=r,this.yLen=a,this.colTemplate="repeat(".concat(this.xLen,", 1fr)"),this.height="".concat(this.xLen/this.yLen,"vw"),this.tiles=new Array(this.xLen*this.yLen);for(var l=0;l<this.tiles.length;l++)this.tiles[l]={isBomb:!1,isCleared:!1,numAdjacentBombs:null};this.started=!1},getX:function(t){return t%this.xLen},getY:function(t){return Math.floor(t/this.xLen)},getIndex:function(t,e){return e*this.xLen+t},tileClicked:function(t){this.started||(this.started=!0,h.$emit("start"),this.gameboardGen(t)),this.uncoverTiles(t)},gameboardGen:function(t){for(var e=0,i=new Array,s=-1;s<2;s++)for(var n=-1;n<2;n++)0<=this.getIndex(s+t.x,n+t.y)&&this.getIndex(s+t.x,n+t.y)<this.xLen*this.yLen&&i.push(this.getIndex(s+t.x,n+t.y));while(e<this.bombCount){var o=Math.floor(Math.random()*this.xLen*this.yLen);i.includes(o)||this.tiles[o].isBomb||(this.tiles[o].isBomb=!0,e+=1)}for(var r=0;r<this.tiles.length;r++)if(!this.tiles[r].isBomb){for(var a=this.getX(r),l=this.getY(r),c=0,u=-1;u<2;u++)for(var h=-1;h<2;h++)if(0<=a+u&&a+u<this.xLen&&0<=l+h&&l+h<this.yLen){var f=this.getIndex(a+u,l+h);0<=f&&f<this.tiles.length&&this.tiles[f].isBomb&&(c+=1)}this.tiles[r].numAdjacentBombs=0===c?null:c}this.uncoverTiles(t)},uncoverTiles:function(t){var e=new Array,i=this.getIndex(t.x,t.y);if(this.tiles[i].isBomb)h.$emit("lose-game");else{this.tiles[i].isCleared||(this.tiles[i].isCleared=!0,this.tiles[i].isBomb||null!==this.tiles[i].numAdjacentBombs||e.push([this.getX(i),this.getY(i)]));while(e.length>0)for(var s=e.shift(),n=s[0],o=s[1],r=-1;r<2;r++)for(var a=-1;a<2;a++)if(0<=n+r&&n+r<this.xLen&&0<=o+a&&o+a<this.yLen){var l=this.getIndex(n+r,o+a);this.tiles[l].isCleared||(this.tiles[l].isCleared=!0,null===this.tiles[l].numAdjacentBombs&&e.push([this.getX(l),this.getY(l)]))}var c=this.getIndex(t.x,t.y);this.tiles[c].isCleared=!0,this.tiles.splice(c,1,this.tiles[c]),this.checkVictory()}},checkVictory:function(){for(var t=0,e=0;e<this.tiles.length;e++)this.tiles[e].isCleared&&!this.tiles[e].isBomb&&(t+=1);t===this.tiles.length-this.bombCount&&h.$emit("win-game")}},mounted:function(){var t=this;h.$on("setDifficulty",this.resetBoard),this.resetBoard("Easy"),h.$on("tileclick",this.tileClicked),h.$on("bombCountMounted",(function(){h.$emit("setBombCount",t.bombCount)}))}},v=p,y=(i("7422"),Object(m["a"])(v,r,a,!1,null,null,null)),C=y.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"header",staticClass:"header"},[i("h1",[t._v("Minesweepr")]),i("div",{staticClass:"hud"},[i("Difficulty"),i("div",{staticClass:"bombtimer"},[i("BombCount"),i("Timer")],1),i("MiscControls")],1)])},x=[],$=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.difficulty,expression:"difficulty"}],attrs:{name:"difficulty",id:"difficulty"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.difficulty=e.target.multiple?i:i[0]},function(e){return t.chgDifficulty()}]}},[i("option",{attrs:{value:"Easy"}},[t._v("Easy")]),i("option",{attrs:{value:"Medium"}},[t._v("Medium")])])])},_=[],T={name:"Difficulty",components:{},data:function(){return{difficulty:"Easy"}},methods:{chgDifficulty:function(){h.$emit("setDifficulty",this.difficulty)}},mounted:function(){h.$on("bombCountMounted",this.chgDifficulty),h.$on("restart",this.chgDifficulty)}},B=T,L=(i("eb5f"),Object(m["a"])(B,$,_,!1,null,"349c9d7f",null)),O=L.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"timer-widget"},[s("img",{attrs:{src:i("c8a4"),alt:"Timer"}}),s("p",{attrs:{id:"time"}},[t._v(t._s(this.ellapsedTime.toString().padStart(3,"0")))])])},j=[],k={name:"Timer",components:{},data:function(){return{ellapsedTime:0,stopTimer:!1,startTime:null}},methods:{resetTimer:function(){this.stop(),this.ellapsedTime=0},start:function(){var t=this;this.ellapsedTime=0,this.startTime=Date.now(),this.stopTimer=!1,setTimeout((function(){t.inc()}),1e3)},stop:function(){this.stopTimer=!0,this.ellapsedTime=parseInt((Date.now()-this.startTime)/1e3)},inc:function(){var t=this;if(!this.stopTimer){this.ellapsedTime=parseInt((Date.now()-this.startTime)/1e3);var e=Date.now()-this.startTime-1e3*this.ellapsedTime;setTimeout((function(){t.inc()}),1e3-e)}},winGame:function(){this.stop(),h.$emit("game-win-time",this.ellapsedTime)}},mounted:function(){h.$on("setDifficulty",this.resetTimer),this.resetTimer(),h.$on("lose-game",this.stop),h.$on("win-game",this.winGame),h.$on("start",this.start)}},D=k,G=(i("d86c"),Object(m["a"])(D,S,j,!1,null,"6b2da733",null)),F=G.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flags-widget"},[s("img",{attrs:{src:i("2686"),alt:"Flag"}}),s("p",[t._v(t._s(t.flags.toString().padStart(2,"0")))])])},M=[],A=(i("5377"),{name:"BombCount",components:{},data:function(){return{flags:0}},methods:{addFlag:function(){this.flags-=1},rmFlag:function(){this.flags+=1},setFlagCount:function(t){this.flags=t}},mounted:function(){h.$on("add-flag",this.addFlag),h.$on("rm-flag",this.rmFlag),h.$on("setBombCount",this.setFlagCount),h.$emit("bombCountMounted")}}),W=A,I=(i("f31e"),Object(m["a"])(W,E,M,!1,null,"35b00d11",null)),z=I.exports,H=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},P=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"social-media"},[s("img",{attrs:{src:i("9b39"),alt:"Social media share icon"}})])}],X={name:"MiscControls",components:{},data:function(){return{}}},Y=X,N=(i("6fa3"),Object(m["a"])(Y,H,P,!1,null,"e63d3b60",null)),J=N.exports,V={name:"Header",components:{Timer:F,Difficulty:O,BombCount:z,MiscControls:J},data:function(){return{}}},R=V,q=(i("e39b"),i("124c"),Object(m["a"])(R,w,x,!1,null,"456f3158",null)),K=q.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"leaderboard",style:{visibility:this.visibility}},[s("div",{staticClass:"leaders"},[s("div",{staticClass:"curscore"},[s("img",{attrs:{src:i("c8a4"),alt:"Timer"}}),s("p",[t._v(t._s(this.curScore))])]),s("div",{staticClass:"topscore"},[s("img",{attrs:{src:i("c218"),alt:"Trophy"}}),s("p",[t._v(t._s(this.topScore))])])]),s("button",{on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.preventDefault(),t.restart(e))}}},[t._v("Restart")])])},U=[],Z={data:function(){return{topScore:"----",curScore:"----",visibility:"hidden"}},methods:{show:function(){this.visibility="visible"},hide:function(){this.visibility="hidden"},showSoon:function(){var t=this;setTimeout((function(){t.show()}),2e3)},checkTopScore:function(t){this.curScore=t,("----"===this.topScore||t<this.topScore)&&(this.topScore=t)},restart:function(){this.hide(),this.curScore="----",h.$emit("restart")}},mounted:function(){h.$on("win-game",this.showSoon),h.$on("lose-game",this.showSoon),h.$on("game-win-time",this.checkTopScore)}},tt=Z,et=(i("4615"),Object(m["a"])(tt,Q,U,!1,null,"26fa06bf",null)),it=et.exports,st={name:"App",components:{Header:K,Gameboard:C,LeaderBoard:it}},nt=st,ot=(i("7922"),i("b0a0"),Object(m["a"])(nt,n,o,!1,null,"cd3fe526",null)),rt=ot.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(rt)}}).$mount("#app")},"64df":function(t,e,i){},"6fa3":function(t,e,i){"use strict";var s=i("e232"),n=i.n(s);n.a},7422:function(t,e,i){"use strict";var s=i("5011"),n=i.n(s);n.a},7922:function(t,e,i){"use strict";var s=i("c71b"),n=i.n(s);n.a},"9b39":function(t,e,i){t.exports=i.p+"img/social-share-opt.a6ee4f69.svg"},a35b:function(t,e,i){},a65f:function(t,e,i){},b0a0:function(t,e,i){"use strict";var s=i("452c"),n=i.n(s);n.a},c0bf:function(t,e,i){},c218:function(t,e,i){t.exports=i.p+"img/trophy-opt.3ae5be6b.svg"},c71b:function(t,e,i){},c8a4:function(t,e,i){t.exports=i.p+"img/stopwatch-low-opt.941b0750.svg"},d86c:function(t,e,i){"use strict";var s=i("c0bf"),n=i.n(s);n.a},e232:function(t,e,i){},e39b:function(t,e,i){"use strict";var s=i("a65f"),n=i.n(s);n.a},eb5f:function(t,e,i){"use strict";var s=i("f426"),n=i.n(s);n.a},f03e:function(t,e,i){},f31e:function(t,e,i){"use strict";var s=i("a35b"),n=i.n(s);n.a},f426:function(t,e,i){}});
//# sourceMappingURL=app.627e6426.js.map